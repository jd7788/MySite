/* 1. 必须先注入 Tailwind 配置（原代码缺失，导致颜色变量无效） */
@layer tailwind-base, tailwind-components, tailwind-utilities;

@layer tailwind-base {
  @tailwind base;
}

@layer tailwind-components {
  @tailwind components;
}

@layer tailwind-utilities {
  @tailwind utilities;
}

/* 2. 配置 Tailwind 自定义颜色（与源码一致，关键修复） */
@layer utilities {
  /* 卡片样式：增强立体感和交互 */
  .site-card { 
    @apply bg-white rounded-2xl p-6 shadow-md border border-dark-200 
           transition-all duration-300 hover:shadow-xl hover:-translate-y-1 hover:bg-primary/5 
           flex flex-col items-center text-center w-full max-w-[130px] mx-auto cursor-pointer; 
  }
  /* 分类标题：强化视觉层级 */
  .category-title { 
    @apply text-xl md:text-2xl font-bold text-dark-500 mb-6 pl-4 py-2 
           border-l-4 border-primary border-b border-dark-200 pb-3; 
  }
  /* 图标动效：旋转+缩放 */
  .site-icon { 
    @apply text-2xl md:text-3xl mb-3 transition-all duration-300 
           group-hover:scale-110 group-hover:rotate-6; 
  }
  /* 文字容器：限制宽度，实现字体自适应 */
  .site-name-container {
    @apply w-full overflow-hidden;
    position: relative;
    height: 1.5em; /* 固定高度，避免文字换行导致卡片高度变化 */
  }
  /* 网站名称：自适应字体大小 */
  .site-name { 
    @apply font-semibold truncate transition-colors
           group-hover:bg-gradient-to-r from-primary to-blue-400 
           group-hover:bg-clip-text group-hover:text-transparent; 
    white-space: nowrap;
    font-size: clamp(0.8rem, 4vw, 1rem); /* 核心：根据容器宽度动态调整字体大小 */
  }
  /* 按钮样式统一 */
  .btn-primary {
    @apply bg-primary text-white hover:bg-primary/90 transition-colors;
  }
  .btn-secondary {
    @apply border border-dark-200 text-dark-500 hover:bg-dark-100 transition-colors;
  }
}

/* 3. 定义颜色变量（与源码一致） */
:root {
  --color-primary: #3B82F6;      /* 主色：科技蓝（hover统一色） */
  --color-success: #10B981;      /* 辅助色：成功绿 */
  --color-warning: #F59E0B;      /* 辅助色：警示黄 */
  --color-dark-100: #F3F4F6;     /* 浅灰背景 */
  --color-dark-200: #E5E7EB;     /* 边框、分割线 */
  --color-dark-300: #9CA3AF;     /* 弱文本 */
  --color-dark-400: #6B7280;     /* 次文本 */
  --color-dark-500: #1F2937;     /* 主文本 */
}

/* 4. 关键修复：将颜色变量映射到 Tailwind 类（原代码未正确关联） */
.bg-primary { background-color: var(--color-primary) !important; }
.text-primary { color: var(--color-primary) !important; }
.bg-primary\/5 { background-color: rgba(59, 130, 246, 0.05) !important; }

.bg-dark-100 { background-color: var(--color-dark-100) !important; }
.border-dark-200 { border-color: var(--color-dark-200) !important; }
.text-dark-300 { color: var(--color-dark-300) !important; }
.text-dark-400 { color: var(--color-dark-400) !important; }
.text-dark-500 { color: var(--color-dark-500) !important; }
